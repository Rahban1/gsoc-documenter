<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Documenter.jl Search System Developer Documentation · GSoC Documentation</title><meta name="title" content="Documenter.jl Search System Developer Documentation · GSoC Documentation"/><meta property="og:title" content="Documenter.jl Search System Developer Documentation · GSoC Documentation"/><meta property="twitter:title" content="Documenter.jl Search System Developer Documentation · GSoC Documentation"/><meta name="description" content="Documentation for GSoC Documentation."/><meta property="og:description" content="Documentation for GSoC Documentation."/><meta property="twitter:description" content="Documentation for GSoC Documentation."/><meta property="og:url" content="https://rahban1.github.io/gsoc-documenter/dev_docs_for_search/"/><meta property="twitter:url" content="https://rahban1.github.io/gsoc-documenter/dev_docs_for_search/"/><link rel="canonical" href="https://rahban1.github.io/gsoc-documenter/dev_docs_for_search/"/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXXXX-X"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-XXXXXXXXX-X', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="GSoC Documentation logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">GSoC Documentation</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Deliverable Summary</span><ul><li><a class="tocitem" href="../adding_search_benchmarks/">Adding Search Benchmarks</a></li><li><a class="tocitem" href="../creating_test_manual/">Creating test manual and testing it on benchmarks</a></li><li><a class="tocitem" href="../improving_tokenizer/">Updating Tokenizer</a></li><li><a class="tocitem" href="../warn_when_si_big/">Warn when the search index is too big</a></li><li><a class="tocitem" href="../listing_in_si/">Proper listings in Search Index</a></li><li class="is-active"><a class="tocitem" href>Documenter.jl Search System Developer Documentation</a><ul class="internal"><li><a class="tocitem" href="#Overview"><span>Overview</span></a></li><li><a class="tocitem" href="#Architecture"><span>Architecture</span></a></li><li><a class="tocitem" href="#Index-Generation-Process"><span>Index Generation Process</span></a></li><li><a class="tocitem" href="#Client-Side-Search-Implementation"><span>Client-Side Search Implementation</span></a></li><li><a class="tocitem" href="#Performance-Optimizations"><span>Performance Optimizations</span></a></li><li><a class="tocitem" href="#Configuration-Options"><span>Configuration Options</span></a></li><li><a class="tocitem" href="#Integration-Points"><span>Integration Points</span></a></li><li><a class="tocitem" href="#Testing-and-Benchmarking"><span>Testing and Benchmarking</span></a></li></ul></li></ul></li><li><span class="tocitem">Additionals</span><ul><li><a class="tocitem" href="../key_bindings/">Navigate the Search Results using up and down keys</a></li></ul></li><li><a class="tocitem" href="../conclusion/">Conclusion</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Deliverable Summary</a></li><li class="is-active"><a href>Documenter.jl Search System Developer Documentation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Documenter.jl Search System Developer Documentation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Rahban1/gsoc-documenter" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Rahban1/gsoc-documenter/blob/main/docs/src/dev_docs_for_search.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Documenter.jl-Search-System-Developer-Documentation"><a class="docs-heading-anchor" href="#Documenter.jl-Search-System-Developer-Documentation">Documenter.jl Search System Developer Documentation</a><a id="Documenter.jl-Search-System-Developer-Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Documenter.jl-Search-System-Developer-Documentation" title="Permalink"></a></h1><h2 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h2><p>The search system in Documenter.jl provides full-text search functionality for generated documentation sites. It consists of two main components: a Julia-based index generation system that runs during documentation build time, and a JavaScript-based client-side search interface that provides real-time search functionality to users.</p><h2 id="Architecture"><a class="docs-heading-anchor" href="#Architecture">Architecture</a><a id="Architecture-1"></a><a class="docs-heading-anchor-permalink" href="#Architecture" title="Permalink"></a></h2><p>The search system follows a build-time indexing and client-side search architecture:</p><ol><li><strong>Build-time Index Generation</strong> (<code>src/html/HTMLWriter.jl</code>)</li><li><strong>Client-side Search Interface</strong> (<code>assets/html/js/search.js</code>)</li><li><strong>Web Worker Processing</strong> (for performance optimization)</li></ol><h2 id="Index-Generation-Process"><a class="docs-heading-anchor" href="#Index-Generation-Process">Index Generation Process</a><a id="Index-Generation-Process-1"></a><a class="docs-heading-anchor-permalink" href="#Index-Generation-Process" title="Permalink"></a></h2><h3 id="1.-SearchRecord-Structure"><a class="docs-heading-anchor" href="#1.-SearchRecord-Structure">1. SearchRecord Structure</a><a id="1.-SearchRecord-Structure-1"></a><a class="docs-heading-anchor-permalink" href="#1.-SearchRecord-Structure" title="Permalink"></a></h3><p>The core data structure is the <code>SearchRecord</code> struct defined in <code>src/html/HTMLWriter.jl:656</code>:</p><pre><code class="language-julia hljs">struct SearchRecord
    src::String          # URL/path to the document
    page::Documenter.Page # Reference to the page object
    fragment::String     # URL fragment (for anchored content)
    category::String     # Content category (page, section, docstring, etc.)
    title::String        # Display title for search results
    page_title::String   # Title of the containing page
    text::String         # Searchable text content
end</code></pre><h3 id="2.-Index-Generation-Pipeline"><a class="docs-heading-anchor" href="#2.-Index-Generation-Pipeline">2. Index Generation Pipeline</a><a id="2.-Index-Generation-Pipeline-1"></a><a class="docs-heading-anchor-permalink" href="#2.-Index-Generation-Pipeline" title="Permalink"></a></h3><p>The search index is built during HTML generation through the following process:</p><ol><li><strong>Content Traversal</strong>: The system traverses each page&#39;s markdown AST (<code>src/html/HTMLWriter.jl:1752</code>)</li><li><strong>Record Creation</strong>: For each content node, a <code>SearchRecord</code> is created using the <code>searchrecord()</code> function (<code>src/html/HTMLWriter.jl:748</code>)</li><li><strong>Content Categorization</strong>: Different content types are categorized:<ul><li>Pages: <code>category = &quot;page&quot;</code></li><li>Sections/Headers: <code>category = &quot;section&quot;</code> (<code>src/html/HTMLWriter.jl:728</code>)</li><li>Docstrings: <code>category = &quot;docstring&quot;</code> </li><li>Other content: <code>category = &quot;page&quot;</code></li></ul></li><li><strong>Text Extraction</strong>: Content is flattened into searchable text using the <code>mdflatten()</code> function</li><li><strong>Deduplication</strong>: Records with the same location are merged to reduce index size</li><li><strong>Serialization</strong>: The final index is serialized to JavaScript format</li></ol><h3 id="3.-Index-Output"><a class="docs-heading-anchor" href="#3.-Index-Output">3. Index Output</a><a id="3.-Index-Output-1"></a><a class="docs-heading-anchor-permalink" href="#3.-Index-Output" title="Permalink"></a></h3><p>The search index is written to <code>search_index.js</code> in the following format:</p><pre><code class="language-javascript hljs">var documenterSearchIndex = {&quot;docs&quot;: [
  {
    &quot;location&quot;: &quot;page.html#fragment&quot;,
    &quot;page&quot;: &quot;Page Title&quot;, 
    &quot;title&quot;: &quot;Content Title&quot;,
    &quot;category&quot;: &quot;section&quot;,
    &quot;text&quot;: &quot;Searchable content text...&quot;
  }
  // ... more records
]}</code></pre><h3 id="4.-Content-Filtering"><a class="docs-heading-anchor" href="#4.-Content-Filtering">4. Content Filtering</a><a id="4.-Content-Filtering-1"></a><a class="docs-heading-anchor-permalink" href="#4.-Content-Filtering" title="Permalink"></a></h3><p>Certain content types are excluded from indexing (<code>src/html/HTMLWriter.jl:743</code>):</p><ul><li><code>MetaNode</code> - Metadata blocks</li><li><code>DocsNodesBlock</code> - Documentation node blocks  </li><li><code>SetupNode</code> - Setup blocks</li></ul><h2 id="Client-Side-Search-Implementation"><a class="docs-heading-anchor" href="#Client-Side-Search-Implementation">Client-Side Search Implementation</a><a id="Client-Side-Search-Implementation-1"></a><a class="docs-heading-anchor-permalink" href="#Client-Side-Search-Implementation" title="Permalink"></a></h2><h3 id="1.-Search-Architecture"><a class="docs-heading-anchor" href="#1.-Search-Architecture">1. Search Architecture</a><a id="1.-Search-Architecture-1"></a><a class="docs-heading-anchor-permalink" href="#1.-Search-Architecture" title="Permalink"></a></h3><p>The client-side search uses a <strong>Web Worker</strong> architecture for performance:</p><ul><li><strong>Main Thread</strong>: Handles UI interactions, filters, and DOM updates</li><li><strong>Web Worker</strong>: Performs search operations using MiniSearch library</li></ul><h3 id="2.-MiniSearch-Configuration"><a class="docs-heading-anchor" href="#2.-MiniSearch-Configuration">2. MiniSearch Configuration</a><a id="2.-MiniSearch-Configuration-1"></a><a class="docs-heading-anchor-permalink" href="#2.-MiniSearch-Configuration" title="Permalink"></a></h3><p>The search system uses MiniSearch with the following configuration (<code>assets/html/js/search.js:189</code>):</p><pre><code class="language-javascript hljs">let index = new MiniSearch({
  fields: [&quot;title&quot;, &quot;text&quot;],           // Fields to index
  storeFields: [&quot;location&quot;, &quot;title&quot;, &quot;text&quot;, &quot;category&quot;, &quot;page&quot;], // Fields to return
  processTerm: (term) =&gt; {
    // Custom term processing with stop words removal
    // Preserves Julia-specific symbols (@, !)
  },
  tokenize: (string) =&gt; string.split(/[\s\-\.]+/), // Custom tokenizer
  searchOptions: {
    prefix: true,       // Enable prefix matching
    boost: { title: 100 }, // Boost title matches
    fuzzy: 2           // Enable fuzzy matching
  }
});</code></pre><h3 id="3.-Stop-Words"><a class="docs-heading-anchor" href="#3.-Stop-Words">3. Stop Words</a><a id="3.-Stop-Words-1"></a><a class="docs-heading-anchor-permalink" href="#3.-Stop-Words" title="Permalink"></a></h3><p>The system includes a comprehensive stop words list (<code>assets/html/js/search.js:81</code>) derived from Lunr 2.1.3, with Julia-specific exclusions to preserve important Julia keywords.</p><h3 id="4.-Search-Workflow"><a class="docs-heading-anchor" href="#4.-Search-Workflow">4. Search Workflow</a><a id="4.-Search-Workflow-1"></a><a class="docs-heading-anchor-permalink" href="#4.-Search-Workflow" title="Permalink"></a></h3><h4 id="Main-Thread-Process:"><a class="docs-heading-anchor" href="#Main-Thread-Process:">Main Thread Process:</a><a id="Main-Thread-Process:-1"></a><a class="docs-heading-anchor-permalink" href="#Main-Thread-Process:" title="Permalink"></a></h4><ol><li><strong>Input Handling</strong>: User types in search box → triggers <code>input</code> event</li><li><strong>Worker Communication</strong>: If worker not busy → launch search via <code>postMessage</code></li><li><strong>Result Processing</strong>: Worker returns results → filter and display</li><li><strong>URL Updates</strong>: Search queries and filters update browser URL</li></ol><h4 id="Web-Worker-Process:"><a class="docs-heading-anchor" href="#Web-Worker-Process:">Web Worker Process:</a><a id="Web-Worker-Process:-1"></a><a class="docs-heading-anchor-permalink" href="#Web-Worker-Process:" title="Permalink"></a></h4><ol><li><strong>Query Processing</strong>: Receive search query from main thread</li><li><strong>Search Execution</strong>: Run MiniSearch with scoring threshold (score ≥ 1)</li><li><strong>Result Generation</strong>: Create HTML for up to 200 results per category</li><li><strong>Return Results</strong>: Send formatted results back to main thread</li></ol><h3 id="5.-Result-Rendering"><a class="docs-heading-anchor" href="#5.-Result-Rendering">5. Result Rendering</a><a id="5.-Result-Rendering-1"></a><a class="docs-heading-anchor-permalink" href="#5.-Result-Rendering" title="Permalink"></a></h3><p>Search results include (<code>assets/html/js/search.js:264</code>):</p><ul><li><strong>Title</strong>: Highlighted with category badge</li><li><strong>Snippet</strong>: Text excerpt with search term highlighting</li><li><strong>Link</strong>: Direct link to content location</li><li><strong>Context</strong>: Page information and location path</li></ul><h3 id="6.-Filtering-System"><a class="docs-heading-anchor" href="#6.-Filtering-System">6. Filtering System</a><a id="6.-Filtering-System-1"></a><a class="docs-heading-anchor-permalink" href="#6.-Filtering-System" title="Permalink"></a></h3><p>The search interface provides category-based filtering:</p><ul><li>Filters are generated dynamically from available categories</li><li>Users can filter by content type (page, section, docstring, etc.)</li><li>Filtering is applied client-side for immediate response</li></ul><h2 id="Performance-Optimizations"><a class="docs-heading-anchor" href="#Performance-Optimizations">Performance Optimizations</a><a id="Performance-Optimizations-1"></a><a class="docs-heading-anchor-permalink" href="#Performance-Optimizations" title="Permalink"></a></h2><h3 id="1.-Web-Worker-Usage"><a class="docs-heading-anchor" href="#1.-Web-Worker-Usage">1. Web Worker Usage</a><a id="1.-Web-Worker-Usage-1"></a><a class="docs-heading-anchor-permalink" href="#1.-Web-Worker-Usage" title="Permalink"></a></h3><ul><li>Offloads search computation from main thread</li><li>Maintains UI responsiveness during search operations</li><li>Handles concurrent search requests efficiently</li></ul><h3 id="2.-Result-Limiting"><a class="docs-heading-anchor" href="#2.-Result-Limiting">2. Result Limiting</a><a id="2.-Result-Limiting-1"></a><a class="docs-heading-anchor-permalink" href="#2.-Result-Limiting" title="Permalink"></a></h3><ul><li>Pre-filters to 200 unique results per category</li><li>Prevents excessive DOM manipulation</li><li>Reduces memory usage for large documentation sites</li></ul><h3 id="3.-Index-Deduplication"><a class="docs-heading-anchor" href="#3.-Index-Deduplication">3. Index Deduplication</a><a id="3.-Index-Deduplication-1"></a><a class="docs-heading-anchor-permalink" href="#3.-Index-Deduplication" title="Permalink"></a></h3><ul><li>Merges duplicate entries at build time</li><li>Reduces index size and network transfer</li><li>Improves search performance</li></ul><h3 id="4.-Progressive-Loading"><a class="docs-heading-anchor" href="#4.-Progressive-Loading">4. Progressive Loading</a><a id="4.-Progressive-Loading-1"></a><a class="docs-heading-anchor-permalink" href="#4.-Progressive-Loading" title="Permalink"></a></h3><ul><li>Search index loads asynchronously</li><li>Fallback handling for missing dependencies</li><li>Graceful degradation without search functionality</li></ul><h2 id="Configuration-Options"><a class="docs-heading-anchor" href="#Configuration-Options">Configuration Options</a><a id="Configuration-Options-1"></a><a class="docs-heading-anchor-permalink" href="#Configuration-Options" title="Permalink"></a></h2><h3 id="Build-Time-Settings"><a class="docs-heading-anchor" href="#Build-Time-Settings">Build-Time Settings</a><a id="Build-Time-Settings-1"></a><a class="docs-heading-anchor-permalink" href="#Build-Time-Settings" title="Permalink"></a></h3><pre><code class="language-julia hljs"># In make.jl
makedocs(
    # ... other options
    format = Documenter.HTML(
        # Search-related settings
        search_size_threshold_warn = 200_000  # Warn if index &gt; 200KB
    )
)</code></pre><h3 id="Size-Thresholds"><a class="docs-heading-anchor" href="#Size-Thresholds">Size Thresholds</a><a id="Size-Thresholds-1"></a><a class="docs-heading-anchor-permalink" href="#Size-Thresholds" title="Permalink"></a></h3><ul><li>Warning threshold: 200KB by default</li><li>Large indices may impact page load performance</li><li>Automatic warnings during build process</li></ul><h2 id="Integration-Points"><a class="docs-heading-anchor" href="#Integration-Points">Integration Points</a><a id="Integration-Points-1"></a><a class="docs-heading-anchor-permalink" href="#Integration-Points" title="Permalink"></a></h2><h3 id="1.-Asset-Management"><a class="docs-heading-anchor" href="#1.-Asset-Management">1. Asset Management</a><a id="1.-Asset-Management-1"></a><a class="docs-heading-anchor-permalink" href="#1.-Asset-Management" title="Permalink"></a></h3><ul><li>Search JavaScript is bundled with other Documenter assets</li><li>MiniSearch library loaded from CDN (<code>__MINISEARCH_VERSION__</code> placeholder)</li><li>Dependencies managed through <code>JSDependencies.jl</code></li></ul><h3 id="2.-Theme-Integration"><a class="docs-heading-anchor" href="#2.-Theme-Integration">2. Theme Integration</a><a id="2.-Theme-Integration-1"></a><a class="docs-heading-anchor-permalink" href="#2.-Theme-Integration" title="Permalink"></a></h3><ul><li>Search UI styled using Bulma CSS framework</li><li>Responsive design for mobile devices</li><li>Dark/light theme support</li></ul><h3 id="3.-URL-Routing"><a class="docs-heading-anchor" href="#3.-URL-Routing">3. URL Routing</a><a id="3.-URL-Routing-1"></a><a class="docs-heading-anchor-permalink" href="#3.-URL-Routing" title="Permalink"></a></h3><ul><li>Search queries persist in URL parameters (<code>?q=search_term</code>)</li><li>Filter states maintained in URL (<code>?filter=section</code>)</li><li>Browser history integration for navigation</li></ul><h2 id="Testing-and-Benchmarking"><a class="docs-heading-anchor" href="#Testing-and-Benchmarking">Testing and Benchmarking</a><a id="Testing-and-Benchmarking-1"></a><a class="docs-heading-anchor-permalink" href="#Testing-and-Benchmarking" title="Permalink"></a></h2><h3 id="1.-Test-Infrastructure"><a class="docs-heading-anchor" href="#1.-Test-Infrastructure">1. Test Infrastructure</a><a id="1.-Test-Infrastructure-1"></a><a class="docs-heading-anchor-permalink" href="#1.-Test-Infrastructure" title="Permalink"></a></h3><ul><li>Real search testing: <code>test/search/real_search.jl</code></li><li>Benchmark suite: <code>test/search/run_benchmarks.jl</code></li><li>Edge case testing: <code>test/search_edge_cases/</code></li></ul><h3 id="2.-Search-Validation"><a class="docs-heading-anchor" href="#2.-Search-Validation">2. Search Validation</a><a id="2.-Search-Validation-1"></a><a class="docs-heading-anchor-permalink" href="#2.-Search-Validation" title="Permalink"></a></h3><p>The testing system provides:</p><ul><li>Index generation validation</li><li>Search result accuracy verification  </li><li>Performance benchmarking capabilities</li><li>Edge case handling verification</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../listing_in_si/">« Proper listings in Search Index</a><a class="docs-footer-nextpage" href="../key_bindings/">Navigate the Search Results using up and down keys »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Saturday 23 August 2025 09:27">Saturday 23 August 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
