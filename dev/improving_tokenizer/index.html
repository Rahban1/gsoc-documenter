<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Updating Tokenizer · GSoC Documentation</title><meta name="title" content="Updating Tokenizer · GSoC Documentation"/><meta property="og:title" content="Updating Tokenizer · GSoC Documentation"/><meta property="twitter:title" content="Updating Tokenizer · GSoC Documentation"/><meta name="description" content="Documentation for GSoC Documentation."/><meta property="og:description" content="Documentation for GSoC Documentation."/><meta property="twitter:description" content="Documentation for GSoC Documentation."/><meta property="og:url" content="https://rahban1.github.io/gsoc-documenter/improving_tokenizer/"/><meta property="twitter:url" content="https://rahban1.github.io/gsoc-documenter/improving_tokenizer/"/><link rel="canonical" href="https://rahban1.github.io/gsoc-documenter/improving_tokenizer/"/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXXXX-X"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-XXXXXXXXX-X', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="GSoC Documentation logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">GSoC Documentation</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Deliverable Summary</span><ul><li><a class="tocitem" href="../adding_search_benchmarks/">Adding Search Benchmarks</a></li><li class="is-active"><a class="tocitem" href>Updating Tokenizer</a><ul class="internal"><li><a class="tocitem" href="#Understanding-the-task"><span>Understanding the task</span></a></li><li><a class="tocitem" href="#The-problem"><span>The problem</span></a></li><li><a class="tocitem" href="#Solution"><span>Solution</span></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Deliverable Summary</a></li><li class="is-active"><a href>Updating Tokenizer</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Updating Tokenizer</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Rahban1/gsoc-documenter" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Rahban1/gsoc-documenter/blob/main/docs/src/improving_tokenizer.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Updating-Tokenizer"><a class="docs-heading-anchor" href="#Updating-Tokenizer">Updating Tokenizer</a><a id="Updating-Tokenizer-1"></a><a class="docs-heading-anchor-permalink" href="#Updating-Tokenizer" title="Permalink"></a></h1><h2 id="Understanding-the-task"><a class="docs-heading-anchor" href="#Understanding-the-task">Understanding the task</a><a id="Understanding-the-task-1"></a><a class="docs-heading-anchor-permalink" href="#Understanding-the-task" title="Permalink"></a></h2><p>A tokenizer is a component of a search engine that processes text by breaking it down into smaller units called tokens. These tokens are then indexed and used to match search queries against the content.</p><p>Right now the tokenize function in the repository in assets/html/js/search.js is :</p><pre><code class="language-julia hljs">    tokenize: (string) =&gt; string.split(/[\s\-\.]+/)</code></pre><p>It splits the string into tokens using regular expression that match spaces (\s), hyphens (-), and dots (.) as delimiters. Consider somebody search for task<em>local</em>storage, a default tokenizer will split it into the following tokens “task”, “local”, “storage” While this works well for general text, it can cause problems when searching for programming related content, especially in languages like Julia where identifiers often contain underscores and are meant to be treated as a single cohesive unit.</p><p>Some problems that can arise from this approach is :</p><ul><li>Loss of context</li><li>Reduced precision</li><li>Poor user experience</li></ul><h2 id="The-problem"><a class="docs-heading-anchor" href="#The-problem">The problem</a><a id="The-problem-1"></a><a class="docs-heading-anchor-permalink" href="#The-problem" title="Permalink"></a></h2><p>The old tokenizer was too simple and caused these issues:</p><ul><li><p>Problem 1: Lost Important Julia Syntax</p><p>What happened when someone searched for &quot;Base.sort&quot;: &quot;Base.sort function&quot; → [&quot;Base&quot;, &quot;sort&quot;, &quot;function&quot;]</p><p>Lost the connection between &quot;Base&quot; and &quot;sort&quot;</p><p>Why this is bad: Julia has special syntax like Base.sort where the dot (.) connects the module name to the function name. The old tokenizer split on dots, so it couldn&#39;t find &quot;Base.sort&quot; when you searched for it!</p></li><li><p>Problem 2: Operators Got Lost</p><p>When someone searched for &quot;^&quot; (power operator): &quot;Use ^ operator&quot; → [&quot;Use&quot;, &quot;&quot;, &quot;operator&quot;] The &quot;^&quot; symbol disappeared!</p></li><li><p>Problem 3: Macros Broken Apart</p><p>When someone searched for &quot;@time&quot; (a Julia macro): &quot;@time macro&quot; → [&quot;&quot;, &quot;time&quot;, &quot;macro&quot;] Lost the &quot;@&quot; symbol that makes it a macro!</p></li></ul><h2 id="Solution"><a class="docs-heading-anchor" href="#Solution">Solution</a><a id="Solution-1"></a><a class="docs-heading-anchor-permalink" href="#Solution" title="Permalink"></a></h2><ul><li>Change 1: Improving on the custom trimmer</li></ul><p>right now the trimmer is :</p><pre><code class="language-julia hljs">  word = word
    .replace(/^[^a-zA-Z0-9@!]+/, &quot;&quot;)
    .replace(/[^a-zA-Z0-9@!]+$/, &quot;&quot;)</code></pre><p>Basically, what this is doing is removing every character which is not uppercase letters, lowercase letters, numbers, and two symbols &#39;@&#39; and &#39;!&#39; from the beginning and end of the query</p><p>but the problem is what if somebody search for just &#39;^&#39; it would result nothing</p><ul><li><p>Change 2: Intelligent Pattern Matching</p><p>I completely rewrote the tokenizer to understand Julia&#39;s special syntax. Here&#39;s what I did:</p></li></ul><pre><code class="language-julia hljs">    // Julia-aware tokenization that preserves meaningful syntax elements
    tokenize: (string) =&gt; {
      const tokens = [];
      let remaining = string;
      
      // Julia-specific patterns to preserve as complete tokens
      const patterns = [
        // Module qualified names (e.g., Base.sort, Module.Submodule.function)
        /\b[A-Z][A-Za-z0-9_]*(?:\.[A-Z][A-Za-z0-9_]*)*\.[a-z_][A-Za-z0-9_!]*\b/g,
        // Macro calls (e.g., @time, @async)
        /@[A-Za-z_][A-Za-z0-9_]*/g,
        // Type parameters (e.g., Array{T,N}, Vector{Int})
        /\b[A-Z][A-Za-z0-9_]*\{[^}]+\}/g,
        // Function names with module qualification (e.g., Base.+, Base.:^)
        /\b[A-Z][A-Za-z0-9_]*\.:[A-Za-z0-9_!+\-*/^&amp;|%&lt;&gt;=.]+/g,
        // Operators as complete tokens (e.g., !=, &amp;&amp;, ||, ^, .=, -&gt;)
        /[!&lt;&gt;=+\-*/^&amp;|%:.]+/g,
        // Function signatures with type annotations (e.g., f(x::Int))
        /\b[a-z_][A-Za-z0-9_!]*\([^)]*::[^)]*\)/g,
        // Regular identifiers and function names
        /\b[A-Za-z_][A-Za-z0-9_!]*\b/g,
        // Numbers (integers, floats, scientific notation)
        /\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b/g
      ];
      
      // Apply patterns in order of specificity (most specific first)
      for (const pattern of patterns) {
        pattern.lastIndex = 0; // Reset regex state
        let match;
        while ((match = pattern.exec(remaining)) !== null) {
          const token = match[0].trim();
          if (token &amp;&amp; !tokens.includes(token)) {
            tokens.push(token);
          }
        }
      }
      
      // Also split on common delimiters for any remaining content
      const basicTokens = remaining.split(/[\s\-,;()[\]{}]+/).filter(t =&gt; t.trim());
      for (const token of basicTokens) {
        if (token &amp;&amp; !tokens.includes(token)) {
          tokens.push(token);
        }
      }
      
      return tokens.filter(token =&gt; token.length &gt; 0);
    },</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../adding_search_benchmarks/">« Adding Search Benchmarks</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Monday 7 July 2025 13:38">Monday 7 July 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
